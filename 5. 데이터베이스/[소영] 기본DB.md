# 데이터베이스란?

DB :  여러 사람들이 공유하고 사용할 목적으로 통합 관리되는 **데이터들의 모임**

DBMS : 데이터베이스 관리 시스템, 사용자와 데이터베이스 사이에서 사용자의 요구에 따라 정보를 생성해 주고 데이터베이스를 관리해 주는 소프트웨어

DBA(DB Administrator) : DBMS를 전문적으로 관리하는 인력



![DataBase ](https://t1.daumcdn.net/cfile/tistory/993845445A67253915)

**식별자(identifier) :** 여러개의 집합체를 담고있는 관계형 데이터베이스에서 각각의 구분할 수 있는 논리적인 개념

**식별자의 특성**

유일성 : 하나의 릴레이션에서 모든 행은 서로 다른 키 값을 가져야 함

최소성 : 꼭 필요한 최소한의 속성들로만 키를 구성해야 함

**튜플(Tuple) :** 테이블에서 행, 레코드(Record) 혹은 로우(Row)라고 하기도 함, 튜플은 릴레이션에서 같은 값을 가질 수 없음, 튜플의 수는 카디날리티(Cardinality) 라고 함

**어트리뷰트(Attribute):** 테이블에서 열을 의미한다. 같은말로 칼럼(Columm)이라고도 하며 어트리뷰트(Attribute)의 수를 의미하는 단어는 디그리(Degree)라고 합니다.



# 무결성

1. 엔터티 무결성(Entity Integrity)

   - 엔터티에 존재하는 모든 인스턴스는 고유해야 한다.
   - 인스턴스를 대표하는 속성(Primary Key)에는 Null 값이 올 수 없다.
   - → 엔터티에는 동일한 주 식별자가 존재할 수 없으며 주 식별자 속성은 모르는 값인 Null 값을 허용할 수 없다.

2. 참조 무결성(Referential Integrity)

   - 참조 무결성: 엔터티의 외래 식별자 속성은 참조되는 엔터티의 주 식별자 값과 일치하거나 Null 값이어야 한다.
   - 즉 외래 식별자 속성 값이 상위 엔터티의 인스턴스에 반드시 존재하거나 Null 이어야 한다.
   - 참조 무결성은 두 엔터티의 연관된 인스턴스 사이에 일관성을 유지하기 위한 제약으로 사용
   - 이 제약은 관계형 데이터베이스에서 집합(엔터티) 사이에 연산할 수 있도록 하는 대단히 중요한 개념
   - 참조 무결성은 데이터 모델에서 절대적으로 필요한 중요한 요소이며 제약
   - 참조 무결성은 FK(Foreign Key) 제약에 의해서 지켜짐

3. 도메인 무결성(Domain Integrity)

   - 도메인 무결성은 속성 값과 관련된 제약
   - 엔터티의 특정 속성 값은 동일한 데이터 타입, 길이, Null 허용 여부, 기본 값, 허용 값 등 동일한 범주의 값만이 존재해야 한다.
   - 동일한 속성에 사용되는 값들은 동일한 성격의 값이 사용되어야 한다.
   - 도메인 무결성은 기본 값, Null 허용 여부, 체크 조건 등으로 지켜질 수 있다.
   - 도메인 무결성 예시
     - 고객이름 속성에 "Homer"는 허용, 777은 불가
     - 전화번호 속성에 "555-5555"는 허용, "오오오~오오오오"는 불가

4. 업무 무결성(Business Integrity)

   - 업무 무결성은 기업에서 업무를 수행하는 방법이나 데이터를 처리하는 규칙

   - 넓게 보면 엔터티 무결성이나 참조 무결성, 도메인 무결성도 업무 무결성에 포함

   - 업무 무결성은 범위가 넓어 주로 프로그램(의 로직)에서 확인

   - 업무 무결성을 물리적으로 강제하는 대표적인 방법에는 트리거가 존재

   - 업무 무결성 예시

     - 주문 금액 3만 원 이상이면 무료배송

     - 초회 보험료를 입금하지 않은 보험 계약은 무효

       

# 여러가지 키

**후보키(Candidate Key)**

**1.** 후보키는 릴레이션을 구성하는 속성들 중에서 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합, 즉 기본키로 사용할 수 있는 속성들을 말한다.

**2.** 하나의 릴레이션내에서는 중복된 튜플들이 있을 수 없으므로 모든 릴레이션에는 반드시 하나 이상의 후보키가 존재한다.

**3.** 후보키는 릴레이션에 있는 모든 튜플에 대해서 유일성과 최소성을 만족시켜야 한다.

> 유일성 : 하나의 키값으로 하나의 튜플만을 유일하게 식별할 수 있어야한다.
>
> 최소성 : 모든 레코드들을 유일하게 식별하는데 꼭 필요한 속성만으로 구성되어 있어야한다.



**기본키(Primary Key)**

**1.** 기본키는 후보키 중에서 선택한 주키(Main Key)이다.

**2.** 한 릴레이션에서 특정 튜플을 유일하게 구별할 수 있는 속성이다.

**3.** Null값을 가질 수 없다.

**4.** 기본키로 정의된 속성에는 동일한 값이 중복되어 저장될 수 없다.



**대체키(Alternate Key)**

**1.** 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들을 말한다.

**2.** 보조키라고도 한다.



**슈퍼키(Super Key)**

**1.** 슈퍼키는 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키로서 릴레이션을 구성하는 모든 튜플들 중 슈퍼키로 구성된 속성의 집합과 동일한 값을 나타나지 않는다. 

**2.** 슈퍼키는 릴레이션을 구성하는 모든 튜플에 대해 유일성을 만족시키지만, 최소성은 만족시키지 못한다.

> 최소성 : 학번 + 주민번호를 사용하여 슈퍼키를 만들면 다른 튜플들과 구분할 수 있는 유일성은 만족하지만 학번이나 주민번호 하나만 가지고도 다른 튜플들을 구분할 수 있으므로 최소성은 만족시키지 못한다.



**외래키(Foregin Key)**

**1.** 관계를 맺고 있는 릴레이션 R1,R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키와 같은 R1 릴레이션의 속성을 외래키라고 한다.

**2.** 외래키는 참조되는 릴레이션의 기본키와 대응되어 릴레이션 간에 참조관계를 표현하는데 중요한 도구이다.



# 트리거

- 트리거(Trigger)는 특정 테이블에 INSERT, DELETE, UPDATE 같은 DML 문이 수행되었을 때**, **데이터베이스에서 자동으로 동작하도록 작성된 프로그램

- 사용자가 직접 호출하는 것이 아니라, 데이터베이스에서 특정 이벤트가 발생하면 자동으로 실행



# 출처

 https://noahlogs.tistory.com/36 [인생의 로그캣]

무결성  https://coding-factory.tistory.com/221

키 https://coding-factory.tistory.com/entry/DB%EA%B8%B0%EC%B4%88-%EC%97%AC%EB%9F%AC%EA%B0%80%EC%A7%80-%ED%82%A4%EA%B8%B0%EB%B3%B8%ED%82%A4%ED%9B%84%EB%B3%B4%ED%82%A4%EC%99%B8%EB%9E%98%ED%82%A4%EB%93%B1%EC%9D%98-%EC%A2%85%EB%A5%98%EC%99%80-%EA%B0%9C%EB%85%90





#### Q. [소영] 무결성을 유지하려는 이유가 무엇인가요?

A. 무결성이 유지가 되어야 DB에 저장된 데이터 값과 거기에 해당하는 현실 세계의 실제값이 일치하는지 신뢰할 수 있기 때문입니다.



**Q.[소영]  DBMS를 정의하십시오.**

A. DBMS는 데이터베이스 관리 시스템을 나타냅니다. 사용자가 데이터에 관한 정보를 가능한 한 효율적이고 효과적으로 구성, 복원 및 검색 할 수 있도록하는 응용 프로그램 모음입니다. 널리 사용되는 DBMS 중 일부는 MySql, Oracle 등입니다.



**Q. 기본 키(Primary key)와 복합 키(Compound key)를 설명하십시오.**

A. 기본 키** 는 모든 행 데이터가 고유하게 식별되는 테이블의 해당 열입니다. 테이블의 모든 행에는 기본 키가 있어야하며 두 행은 동일한 기본 키를 가질 수 없습니다. 기본 키 값은 절대로 null이거나 수정하거나 업데이트 할 수 없습니다. **복합 키** 는 열 세트가 테이블의 모든 행을 고유하게 식별하는 후보 키의 양식입니다



Q. Unique 키란 무엇인지 설명하세요

A. Unique 키는 유일성을 가지기 위해 설정해 놓은 키로 중복이 되는 것을 방지합니다. Primary 키는 오직 하나만 생성할 수 있지만, Unique키는 여러개 생성이 가능합니다. Primary키의 경우 NULL 값을 허용하지 않지만, Unique 키는 NULL 값을 허용합니다.



Q. 트리거가 무엇인지 설명하세요

A. 테이블에서 삽입 전, 삽입 후, 업데이트시, 행 삭제시와 같은 이벤트가 발생할 때 자동으로 실행되는 명령 세트를 데이터베이스 트리거라고합니다.
